:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/../../GodotApplePlugins/doc_classes/StoreKitManager.xml.

.. _class_StoreKitManager:

StoreKitManager
===============

**Inherits:** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

Manages StoreKit interactions such as requesting products, purchasing, and restoring purchases.

.. rst-class:: classref-introduction-group

Description
-----------

This class handles the core StoreKit functionality. It provides methods to fetch product information from the App Store, initiate purchases, and restore previous purchases. It emits signals to notify the application about the status of these operations.

.. rst-class:: classref-reftable-group

Methods
-------

.. table::
   :widths: auto

   +--------+----------------------------------------------------------------------------------------------------------------------------------------------+
   | |void| | :ref:`purchase<class_StoreKitManager_method_purchase>`\ (\ product\: :ref:`StoreProduct<class_StoreProduct>`\ )                              |
   +--------+----------------------------------------------------------------------------------------------------------------------------------------------+
   | |void| | :ref:`request_products<class_StoreKitManager_method_request_products>`\ (\ productIds\: :ref:`PackedStringArray<class_PackedStringArray>`\ ) |
   +--------+----------------------------------------------------------------------------------------------------------------------------------------------+
   | |void| | :ref:`restore_purchases<class_StoreKitManager_method_restore_purchases>`\ (\ )                                                               |
   +--------+----------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Signals
-------

.. _class_StoreKitManager_signal_products_request_completed:

.. rst-class:: classref-signal

**products_request_completed**\ (\ products\: :ref:`Array<class_Array>`, status\: :ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>`\ ) :ref:`ðŸ”—<class_StoreKitManager_signal_products_request_completed>`

Emitted when a product request finishes. ``products`` is an ``Array`` of :ref:`StoreProduct<class_StoreProduct>`\ s. ``status`` is a :ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` indicating success or failure.

.. rst-class:: classref-item-separator

----

.. _class_StoreKitManager_signal_purchase_completed:

.. rst-class:: classref-signal

**purchase_completed**\ (\ arg1\: :ref:`StoreTransaction<class_StoreTransaction>`, arg2\: :ref:`int<class_int>`, arg3\: :ref:`String<class_String>`\ ) :ref:`ðŸ”—<class_StoreKitManager_signal_purchase_completed>`

Emitted when a purchase completes. `arg1` is the :ref:`StoreTransaction<class_StoreTransaction>` (can be null on failure), `arg2` is the :ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>`, and `arg3` is an error message if applicable.

.. rst-class:: classref-item-separator

----

.. _class_StoreKitManager_signal_restore_completed:

.. rst-class:: classref-signal

**restore_completed**\ (\ arg1\: :ref:`int<class_int>`, arg2\: :ref:`String<class_String>`\ ) :ref:`ðŸ”—<class_StoreKitManager_signal_restore_completed>`

Emitted when the restore process completes. `arg1` is the :ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>`, and `arg2` is an error message if applicable.

.. rst-class:: classref-item-separator

----

.. _class_StoreKitManager_signal_transaction_updated:

.. rst-class:: classref-signal

**transaction_updated**\ (\ arg1\: :ref:`StoreTransaction<class_StoreTransaction>`\ ) :ref:`ðŸ”—<class_StoreKitManager_signal_transaction_updated>`

Emitted when a transaction is updated (e.g., a subscription renews or a purchase is approved externally). `arg1` is the updated :ref:`StoreTransaction<class_StoreTransaction>`.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Enumerations
------------

.. _enum_StoreKitManager_StoreKitStatus:

.. rst-class:: classref-enumeration

enum **StoreKitStatus**: :ref:`ðŸ”—<enum_StoreKitManager_StoreKitStatus>`

.. _class_StoreKitManager_constant_ok:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **ok** = ``0``

The operation completed successfully.

.. _class_StoreKitManager_constant_invalidProduct:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **invalidProduct** = ``1``

The product identifier is invalid.

.. _class_StoreKitManager_constant_cancelled:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **cancelled** = ``2``

The operation was cancelled.

.. _class_StoreKitManager_constant_unverifiedTransaction:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **unverifiedTransaction** = ``3``

The transaction could not be verified.

.. _class_StoreKitManager_constant_userCancelled:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **userCancelled** = ``4``

The user cancelled the operation.

.. _class_StoreKitManager_constant_purchasePending:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **purchasePending** = ``5``

The purchase is pending (e.g., waiting for parental approval).

.. _class_StoreKitManager_constant_unknownStatus:

.. rst-class:: classref-enumeration-constant

:ref:`StoreKitStatus<enum_StoreKitManager_StoreKitStatus>` **unknownStatus** = ``6``

An unknown status occurred.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Method Descriptions
-------------------

.. _class_StoreKitManager_method_purchase:

.. rst-class:: classref-method

|void| **purchase**\ (\ product\: :ref:`StoreProduct<class_StoreProduct>`\ ) :ref:`ðŸ”—<class_StoreKitManager_method_purchase>`

Initiates the purchase of a specific product, e.g. ``purchase(product)``.

.. rst-class:: classref-item-separator

----

.. _class_StoreKitManager_method_request_products:

.. rst-class:: classref-method

|void| **request_products**\ (\ productIds\: :ref:`PackedStringArray<class_PackedStringArray>`\ ) :ref:`ðŸ”—<class_StoreKitManager_method_request_products>`

Requests product information for a list of product identifiers, e.g. ``request_products(["com.example.product1", "com.example.product2"])``.

.. rst-class:: classref-item-separator

----

.. _class_StoreKitManager_method_restore_purchases:

.. rst-class:: classref-method

|void| **restore_purchases**\ (\ ) :ref:`ðŸ”—<class_StoreKitManager_method_restore_purchases>`

Restores previously purchased non-consumable products and auto-renewable subscriptions.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
.. |bitfield| replace:: :abbr:`BitField (This value is an integer composed as a bitmask of the following flags.)`
.. |void| replace:: :abbr:`void (No return value.)`
